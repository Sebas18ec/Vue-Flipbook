{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*!\n * @license\n * flipbook-vue v1.0.0-beta.4\n * Copyright © 2023 Takeshi Sone.\n * Released under the MIT License.\n */\n\nimport { multiply, perspective, translate, translate3d, rotateY, toString, identity } from 'rematrix';\nimport { openBlock, createElementBlock, renderSlot, normalizeProps, guardReactiveProps, createElementVNode, normalizeClass, normalizeStyle, createCommentVNode, Fragment, renderList, withDirectives, vShow } from 'vue';\nvar Matrix = /*@__PURE__*/function () {\n  function Matrix(arg) {\n    if (arg) {\n      if (arg.m) {\n        this.m = [].concat(arg.m);\n      } else {\n        this.m = [].concat(arg);\n      }\n    } else {\n      this.m = identity();\n    }\n  }\n  Matrix.prototype.clone = function clone() {\n    return new Matrix(this);\n  };\n  Matrix.prototype.multiply = function multiply$1(m) {\n    return this.m = multiply(this.m, m);\n  };\n  Matrix.prototype.perspective = function perspective$1(d) {\n    return this.multiply(perspective(d));\n  };\n  Matrix.prototype.transformX = function transformX(x) {\n    return (x * this.m[0] + this.m[12]) / (x * this.m[3] + this.m[15]);\n  };\n  Matrix.prototype.translate = function translate$1(x, y) {\n    return this.multiply(translate(x, y));\n  };\n  Matrix.prototype.translate3d = function translate3d$1(x, y, z) {\n    return this.multiply(translate3d(x, y, z));\n  };\n  Matrix.prototype.rotateY = function rotateY$1(deg) {\n    return this.multiply(rotateY(deg));\n  };\n  Matrix.prototype.toString = function toString$1() {\n    return toString(this.m);\n  };\n  return Matrix;\n}();\nvar spinner = \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22500%22%20height%3D%22500%22%20viewBox%3D%220%200%20500%20500%22%20fill%3D%22transparent%22%20style%3D%22background-color%3A%20%23fff%22%3E%20%20%3Ccircle%20%20%20%20cx%3D%22250%22%20%20%20%20cy%3D%22250%22%20%20%20%20r%3D%2248%22%20%20%20%20stroke%3D%22%23333%22%20%20%20%20stroke-width%3D%222%22%20%20%20%20stroke-dasharray%3D%22271%2030%22%20%20%3E%20%20%20%20%3CanimateTransform%20%20%20%20%20%20attributeName%3D%22transform%22%20%20%20%20%20%20attributeType%3D%22XML%22%20%20%20%20%20%20type%3D%22rotate%22%20%20%20%20%20%20from%3D%220%20250%20250%22%20%20%20%20%20%20to%3D%22360%20250%20250%22%20%20%20%20%20%20dur%3D%221s%22%20%20%20%20%20%20repeatCount%3D%22indefinite%22%20%20%20%20%2F%3E%20%20%3C%2Fcircle%3E%3C%2Fsvg%3E\";\nvar easeIn, easeInOut, easeOut;\neaseIn = function (x) {\n  return Math.pow(x, 2);\n};\neaseOut = function (x) {\n  return 1 - easeIn(1 - x);\n};\neaseInOut = function (x) {\n  if (x < 0.5) {\n    return easeIn(x * 2) / 2;\n  } else {\n    return 0.5 + easeOut((x - 0.5) * 2) / 2;\n  }\n};\nvar script = {\n  props: {\n    pages: {\n      type: Array,\n      required: true\n    },\n    pagesHiRes: {\n      type: Array,\n      default: function () {\n        return [];\n      }\n    },\n    flipDuration: {\n      type: Number,\n      default: 1000\n    },\n    zoomDuration: {\n      type: Number,\n      default: 500\n    },\n    zooms: {\n      type: Array,\n      default: function () {\n        return [1, 2, 4];\n      }\n    },\n    perspective: {\n      type: Number,\n      default: 2400\n    },\n    nPolygons: {\n      type: Number,\n      default: 10\n    },\n    ambient: {\n      type: Number,\n      default: 0.4\n    },\n    gloss: {\n      type: Number,\n      default: 0.6\n    },\n    swipeMin: {\n      type: Number,\n      default: 3\n    },\n    singlePage: {\n      type: Boolean,\n      default: false\n    },\n    forwardDirection: {\n      validator: function (val) {\n        return val === 'right' || val === 'left';\n      },\n      default: 'right'\n    },\n    centering: {\n      type: Boolean,\n      default: true\n    },\n    startPage: {\n      type: Number,\n      default: null\n    },\n    loadingImage: {\n      type: String,\n      default: spinner\n    },\n    clickToZoom: {\n      type: Boolean,\n      default: true\n    },\n    dragToFlip: {\n      type: Boolean,\n      default: true\n    },\n    wheel: {\n      type: String,\n      default: 'scroll'\n    }\n  },\n  data: function () {\n    return {\n      viewWidth: 0,\n      viewHeight: 0,\n      imageWidth: null,\n      imageHeight: null,\n      displayedPages: 1,\n      nImageLoad: 0,\n      nImageLoadTrigger: 0,\n      imageLoadCallback: null,\n      currentPage: 0,\n      firstPage: 0,\n      secondPage: 1,\n      zoomIndex: 0,\n      zoom: 1,\n      zooming: false,\n      touchStartX: null,\n      touchStartY: null,\n      maxMove: 0,\n      activeCursor: null,\n      hasTouchEvents: false,\n      hasPointerEvents: false,\n      minX: 2e308,\n      maxX: -2e308,\n      preloadedImages: {},\n      flip: {\n        progress: 0,\n        direction: null,\n        frontImage: null,\n        backImage: null,\n        auto: false,\n        opacity: 1\n      },\n      currentCenterOffset: null,\n      animatingCenter: false,\n      startScrollLeft: 0,\n      startScrollTop: 0,\n      scrollLeft: 0,\n      scrollTop: 0,\n      loadedImages: {}\n    };\n  },\n  computed: {\n    IE: function () {\n      return typeof navigator !== 'undefined' && /Trident/.test(navigator.userAgent);\n    },\n    canFlipLeft: function () {\n      if (this.forwardDirection === 'left') {\n        return this.canGoForward;\n      } else {\n        return this.canGoBack;\n      }\n    },\n    canFlipRight: function () {\n      if (this.forwardDirection === 'right') {\n        return this.canGoForward;\n      } else {\n        return this.canGoBack;\n      }\n    },\n    canZoomIn: function () {\n      return !this.zooming && this.zoomIndex < this.zooms_.length - 1;\n    },\n    canZoomOut: function () {\n      return !this.zooming && this.zoomIndex > 0;\n    },\n    numPages: function () {\n      if (this.pages[0] === null) {\n        return this.pages.length - 1;\n      } else {\n        return this.pages.length;\n      }\n    },\n    page: function () {\n      if (this.pages[0] !== null) {\n        return this.currentPage + 1;\n      } else {\n        return Math.max(1, this.currentPage);\n      }\n    },\n    zooms_: function () {\n      return this.zooms || [1];\n    },\n    canGoForward: function () {\n      return !this.flip.direction && this.currentPage < this.pages.length - this.displayedPages;\n    },\n    canGoBack: function () {\n      return !this.flip.direction && this.currentPage >= this.displayedPages && !(this.displayedPages === 1 && !this.pageUrl(this.firstPage - 1));\n    },\n    leftPage: function () {\n      if (this.forwardDirection === 'right' || this.displayedPages === 1) {\n        return this.firstPage;\n      } else {\n        return this.secondPage;\n      }\n    },\n    rightPage: function () {\n      if (this.forwardDirection === 'left') {\n        return this.firstPage;\n      } else {\n        return this.secondPage;\n      }\n    },\n    showLeftPage: function () {\n      return this.pageUrl(this.leftPage);\n    },\n    showRightPage: function () {\n      return this.pageUrl(this.rightPage) && this.displayedPages === 2;\n    },\n    cursor: function () {\n      if (this.activeCursor) {\n        return this.activeCursor;\n      } else if (this.IE) {\n        return 'auto';\n      } else if (this.clickToZoom && this.canZoomIn) {\n        return 'zoom-in';\n      } else if (this.clickToZoom && this.canZoomOut) {\n        return 'zoom-out';\n      } else if (this.dragToFlip) {\n        return 'grab';\n      } else {\n        return 'auto';\n      }\n    },\n    pageScale: function () {\n      var scale, vw, xScale, yScale;\n      vw = this.viewWidth / this.displayedPages;\n      xScale = vw / this.imageWidth;\n      yScale = this.viewHeight / this.imageHeight;\n      scale = xScale < yScale ? xScale : yScale;\n      if (scale < 1) {\n        return scale;\n      } else {\n        return 1;\n      }\n    },\n    pageWidth: function () {\n      return Math.round(this.imageWidth * this.pageScale);\n    },\n    pageHeight: function () {\n      return Math.round(this.imageHeight * this.pageScale);\n    },\n    xMargin: function () {\n      return (this.viewWidth - this.pageWidth * this.displayedPages) / 2;\n    },\n    yMargin: function () {\n      return (this.viewHeight - this.pageHeight) / 2;\n    },\n    polygonWidth: function () {\n      var w;\n      w = this.pageWidth / this.nPolygons;\n      w = Math.ceil(w + 1 / this.zoom);\n      return w + 'px';\n    },\n    polygonHeight: function () {\n      return this.pageHeight + 'px';\n    },\n    polygonBgSize: function () {\n      return this.pageWidth + \"px \" + this.pageHeight + \"px\";\n    },\n    polygonArray: function () {\n      return this.makePolygonArray('front').concat(this.makePolygonArray('back'));\n    },\n    boundingLeft: function () {\n      var x;\n      if (this.displayedPages === 1) {\n        return this.xMargin;\n      } else {\n        x = this.pageUrl(this.leftPage) ? this.xMargin : this.viewWidth / 2;\n        if (x < this.minX) {\n          return x;\n        } else {\n          return this.minX;\n        }\n      }\n    },\n    boundingRight: function () {\n      var x;\n      if (this.displayedPages === 1) {\n        return this.viewWidth - this.xMargin;\n      } else {\n        x = this.pageUrl(this.rightPage) ? this.viewWidth - this.xMargin : this.viewWidth / 2;\n        if (x > this.maxX) {\n          return x;\n        } else {\n          return this.maxX;\n        }\n      }\n    },\n    centerOffset: function () {\n      var retval;\n      retval = this.centering ? Math.round(this.viewWidth / 2 - (this.boundingLeft + this.boundingRight) / 2) : 0;\n      if (this.currentCenterOffset === null && this.imageWidth !== null) {\n        this.currentCenterOffset = retval;\n      }\n      return retval;\n    },\n    centerOffsetSmoothed: function () {\n      return Math.round(this.currentCenterOffset);\n    },\n    dragToScroll: function () {\n      return !this.hasTouchEvents;\n    },\n    scrollLeftMin: function () {\n      var w;\n      w = (this.boundingRight - this.boundingLeft) * this.zoom;\n      if (w < this.viewWidth) {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom - (this.viewWidth - w) / 2;\n      } else {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom;\n      }\n    },\n    scrollLeftMax: function () {\n      var w;\n      w = (this.boundingRight - this.boundingLeft) * this.zoom;\n      if (w < this.viewWidth) {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom - (this.viewWidth - w) / 2;\n      } else {\n        return (this.boundingRight + this.centerOffsetSmoothed) * this.zoom - this.viewWidth;\n      }\n    },\n    scrollTopMin: function () {\n      var h;\n      h = this.pageHeight * this.zoom;\n      if (h < this.viewHeight) {\n        return this.yMargin * this.zoom - (this.viewHeight - h) / 2;\n      } else {\n        return this.yMargin * this.zoom;\n      }\n    },\n    scrollTopMax: function () {\n      var h;\n      h = this.pageHeight * this.zoom;\n      if (h < this.viewHeight) {\n        return this.yMargin * this.zoom - (this.viewHeight - h) / 2;\n      } else {\n        return (this.yMargin + this.pageHeight) * this.zoom - this.viewHeight;\n      }\n    },\n    scrollLeftLimited: function () {\n      return Math.min(this.scrollLeftMax, Math.max(this.scrollLeftMin, this.scrollLeft));\n    },\n    scrollTopLimited: function () {\n      return Math.min(this.scrollTopMax, Math.max(this.scrollTopMin, this.scrollTop));\n    }\n  },\n  mounted: function () {\n    window.addEventListener('resize', this.onResize, {\n      passive: true\n    });\n    this.onResize();\n    this.zoom = this.zooms_[0];\n    return this.goToPage(this.startPage);\n  },\n  beforeDestroy: function () {\n    return window.removeEventListener('resize', this.onResize, {\n      passive: true\n    });\n  },\n  methods: {\n    onResize: function () {\n      var viewport;\n      viewport = this.$refs.viewport;\n      if (!viewport) {\n        return;\n      }\n      this.viewWidth = viewport.clientWidth;\n      this.viewHeight = viewport.clientHeight;\n      this.displayedPages = this.viewWidth > this.viewHeight && !this.singlePage ? 2 : 1;\n      if (this.displayedPages === 2) {\n        this.currentPage &= ~1;\n      }\n      this.fixFirstPage();\n      this.minX = 2e308;\n      return this.maxX = -2e308;\n    },\n    fixFirstPage: function () {\n      if (this.displayedPages === 1 && this.currentPage === 0 && this.pages.length && !this.pageUrl(0)) {\n        return this.currentPage++;\n      }\n    },\n    pageUrl: function (page, hiRes) {\n      if (hiRes === void 0) hiRes = false;\n      var url;\n      if (hiRes && this.zoom > 1 && !this.zooming) {\n        url = this.pagesHiRes[page];\n        if (url) {\n          return url;\n        }\n      }\n      return this.pages[page] || null;\n    },\n    pageUrlLoading: function (page, hiRes) {\n      if (hiRes === void 0) hiRes = false;\n      var url;\n      url = this.pageUrl(page, hiRes);\n      if (hiRes && this.zoom > 1 && !this.zooming) {\n        // High-res image doesn't use 'loading'\n        return url;\n      }\n      return url && this.loadImage(url);\n    },\n    flipLeft: function () {\n      if (!this.canFlipLeft) {\n        return;\n      }\n      return this.flipStart('left', true);\n    },\n    flipRight: function () {\n      if (!this.canFlipRight) {\n        return;\n      }\n      return this.flipStart('right', true);\n    },\n    makePolygonArray: function (face) {\n      var bgPos, dRadian, dRotate, direction, i, image, j, lighting, m, originRight, pageMatrix, pageRotation, pageX, polygonWidth, progress, rad, radian, radius, ref, results, rotate, theta, x, x0, x1, z;\n      if (!this.flip.direction) {\n        return [];\n      }\n      progress = this.flip.progress;\n      direction = this.flip.direction;\n      if (this.displayedPages === 1 && direction !== this.forwardDirection) {\n        progress = 1 - progress;\n        direction = this.forwardDirection;\n      }\n      this.flip.opacity = this.displayedPages === 1 && progress > .7 ? 1 - (progress - .7) / .3 : 1;\n      image = face === 'front' ? this.flip.frontImage : this.flip.backImage;\n      polygonWidth = this.pageWidth / this.nPolygons;\n      pageX = this.xMargin;\n      originRight = false;\n      if (this.displayedPages === 1) {\n        if (this.forwardDirection === 'right') {\n          if (face === 'back') {\n            originRight = true;\n            pageX = this.xMargin - this.pageWidth;\n          }\n        } else {\n          if (direction === 'left') {\n            if (face === 'back') {\n              pageX = this.pageWidth - this.xMargin;\n            } else {\n              originRight = true;\n            }\n          } else {\n            if (face === 'front') {\n              pageX = this.pageWidth - this.xMargin;\n            } else {\n              originRight = true;\n            }\n          }\n        }\n      } else {\n        if (direction === 'left') {\n          if (face === 'back') {\n            pageX = this.viewWidth / 2;\n          } else {\n            originRight = true;\n          }\n        } else {\n          if (face === 'front') {\n            pageX = this.viewWidth / 2;\n          } else {\n            originRight = true;\n          }\n        }\n      }\n      pageMatrix = new Matrix();\n      pageMatrix.translate(this.viewWidth / 2);\n      pageMatrix.perspective(this.perspective);\n      pageMatrix.translate(-this.viewWidth / 2);\n      pageMatrix.translate(pageX, this.yMargin);\n      pageRotation = 0;\n      if (progress > 0.5) {\n        pageRotation = -(progress - 0.5) * 2 * 180;\n      }\n      if (direction === 'left') {\n        pageRotation = -pageRotation;\n      }\n      if (face === 'back') {\n        pageRotation += 180;\n      }\n      if (pageRotation) {\n        if (originRight) {\n          pageMatrix.translate(this.pageWidth);\n        }\n        pageMatrix.rotateY(pageRotation);\n        if (originRight) {\n          pageMatrix.translate(-this.pageWidth);\n        }\n      }\n      if (progress < 0.5) {\n        theta = progress * 2 * Math.PI;\n      } else {\n        theta = (1 - (progress - 0.5) * 2) * Math.PI;\n      }\n      if (theta === 0) {\n        theta = 1e-9;\n      }\n      radius = this.pageWidth / theta;\n      radian = 0;\n      dRadian = theta / this.nPolygons;\n      rotate = dRadian / 2 / Math.PI * 180;\n      dRotate = dRadian / Math.PI * 180;\n      if (originRight) {\n        rotate = -theta / Math.PI * 180 + dRotate / 2;\n      }\n      if (face === 'back') {\n        rotate = -rotate;\n        dRotate = -dRotate;\n      }\n      this.minX = 2e308;\n      this.maxX = -2e308;\n      results = [];\n      for (i = j = 0, ref = this.nPolygons; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n        bgPos = i / (this.nPolygons - 1) * 100 + \"% 0px\";\n        m = pageMatrix.clone();\n        rad = originRight ? theta - radian : radian;\n        x = Math.sin(rad) * radius;\n        if (originRight) {\n          x = this.pageWidth - x;\n        }\n        z = (1 - Math.cos(rad)) * radius;\n        if (face === 'back') {\n          z = -z;\n        }\n        m.translate3d(x, 0, z);\n        m.rotateY(-rotate);\n        x0 = m.transformX(0);\n        x1 = m.transformX(polygonWidth);\n        this.maxX = Math.max(Math.max(x0, x1), this.maxX);\n        this.minX = Math.min(Math.min(x0, x1), this.minX);\n        lighting = this.computeLighting(pageRotation - rotate, dRotate);\n        radian += dRadian;\n        rotate += dRotate;\n        results.push([face + i, image, lighting, bgPos, m.toString(), Math.abs(Math.round(z))]);\n      }\n      return results;\n    },\n    computeLighting: function (rot, dRotate) {\n      var DEG, POW, blackness, diffuse, gradients, lightingPoints, specular;\n      gradients = [];\n      lightingPoints = [-0.5, -0.25, 0, 0.25, 0.5];\n      if (this.ambient < 1) {\n        blackness = 1 - this.ambient;\n        diffuse = lightingPoints.map(function (d) {\n          return (1 - Math.cos((rot - dRotate * d) / 180 * Math.PI)) * blackness;\n        });\n        gradients.push(\"linear-gradient(to right,\\n  rgba(0, 0, 0, \" + diffuse[0] + \"),\\n  rgba(0, 0, 0, \" + diffuse[1] + \") 25%,\\n  rgba(0, 0, 0, \" + diffuse[2] + \") 50%,\\n  rgba(0, 0, 0, \" + diffuse[3] + \") 75%,\\n  rgba(0, 0, 0, \" + diffuse[4] + \"))\");\n      }\n      if (this.gloss > 0 && !this.IE) {\n        DEG = 30;\n        POW = 200;\n        specular = lightingPoints.map(function (d) {\n          return Math.max(Math.pow(Math.cos((rot + DEG - dRotate * d) / 180 * Math.PI), POW), Math.pow(Math.cos((rot - DEG - dRotate * d) / 180 * Math.PI), POW));\n        });\n        gradients.push(\"linear-gradient(to right,\\n  rgba(255, 255, 255, \" + specular[0] * this.gloss + \"),\\n  rgba(255, 255, 255, \" + specular[1] * this.gloss + \") 25%,\\n  rgba(255, 255, 255, \" + specular[2] * this.gloss + \") 50%,\\n  rgba(255, 255, 255, \" + specular[3] * this.gloss + \") 75%,\\n  rgba(255, 255, 255, \" + specular[4] * this.gloss + \"))\");\n      }\n      return gradients.join(',');\n    },\n    flipStart: function (direction, auto) {\n      var this$1$1 = this;\n      if (direction !== this.forwardDirection) {\n        if (this.displayedPages === 1) {\n          this.flip.frontImage = this.pageUrl(this.currentPage - 1);\n          this.flip.backImage = null;\n        } else {\n          this.flip.frontImage = this.pageUrl(this.firstPage);\n          this.flip.backImage = this.pageUrl(this.currentPage - this.displayedPages + 1);\n        }\n      } else {\n        if (this.displayedPages === 1) {\n          this.flip.frontImage = this.pageUrl(this.currentPage);\n          this.flip.backImage = null;\n        } else {\n          this.flip.frontImage = this.pageUrl(this.secondPage);\n          this.flip.backImage = this.pageUrl(this.currentPage + this.displayedPages);\n        }\n      }\n      this.flip.direction = direction;\n      this.flip.progress = 0;\n      return requestAnimationFrame(function () {\n        return requestAnimationFrame(function () {\n          if (this$1$1.flip.direction !== this$1$1.forwardDirection) {\n            if (this$1$1.displayedPages === 2) {\n              this$1$1.firstPage = this$1$1.currentPage - this$1$1.displayedPages;\n            }\n          } else {\n            if (this$1$1.displayedPages === 1) {\n              this$1$1.firstPage = this$1$1.currentPage + this$1$1.displayedPages;\n            } else {\n              this$1$1.secondPage = this$1$1.currentPage + 1 + this$1$1.displayedPages;\n            }\n          }\n          if (auto) {\n            return this$1$1.flipAuto(true);\n          }\n        });\n      });\n    },\n    flipAuto: function (ease) {\n      var this$1$1 = this;\n      var animate, duration, startRatio, t0;\n      t0 = Date.now();\n      duration = this.flipDuration * (1 - this.flip.progress);\n      startRatio = this.flip.progress;\n      this.flip.auto = true;\n      this.$emit(\"flip-\" + this.flip.direction + \"-start\", this.page);\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = startRatio + t / duration;\n          if (ratio > 1) {\n            ratio = 1;\n          }\n          this$1$1.flip.progress = ease ? easeInOut(ratio) : ratio;\n          if (ratio < 1) {\n            return animate();\n          } else {\n            if (this$1$1.flip.direction !== this$1$1.forwardDirection) {\n              this$1$1.currentPage -= this$1$1.displayedPages;\n            } else {\n              this$1$1.currentPage += this$1$1.displayedPages;\n            }\n            this$1$1.$emit(\"flip-\" + this$1$1.flip.direction + \"-end\", this$1$1.page);\n            if (this$1$1.displayedPages === 1 && this$1$1.flip.direction === this$1$1.forwardDirection) {\n              this$1$1.flip.direction = null;\n            } else {\n              this$1$1.onImageLoad(1, function () {\n                return this$1$1.flip.direction = null;\n              });\n            }\n            return this$1$1.flip.auto = false;\n          }\n        });\n      };\n      return animate();\n    },\n    flipRevert: function () {\n      var this$1$1 = this;\n      var animate, duration, startRatio, t0;\n      t0 = Date.now();\n      duration = this.flipDuration * this.flip.progress;\n      startRatio = this.flip.progress;\n      this.flip.auto = true;\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = startRatio - startRatio * t / duration;\n          if (ratio < 0) {\n            ratio = 0;\n          }\n          this$1$1.flip.progress = ratio;\n          if (ratio > 0) {\n            return animate();\n          } else {\n            this$1$1.firstPage = this$1$1.currentPage;\n            this$1$1.secondPage = this$1$1.currentPage + 1;\n            if (this$1$1.displayedPages === 1 && this$1$1.flip.direction !== this$1$1.forwardDirection) {\n              this$1$1.flip.direction = null;\n            } else {\n              this$1$1.onImageLoad(1, function () {\n                return this$1$1.flip.direction = null;\n              });\n            }\n            return this$1$1.flip.auto = false;\n          }\n        });\n      };\n      return animate();\n    },\n    onImageLoad: function (trigger, cb) {\n      this.nImageLoad = 0;\n      this.nImageLoadTrigger = trigger;\n      return this.imageLoadCallback = cb;\n    },\n    didLoadImage: function (ev) {\n      if (this.imageWidth === null) {\n        this.imageWidth = (ev.target || ev.path[0]).naturalWidth;\n        this.imageHeight = (ev.target || ev.path[0]).naturalHeight;\n        this.preloadImages();\n      }\n      if (!this.imageLoadCallback) {\n        return;\n      }\n      if (++this.nImageLoad >= this.nImageLoadTrigger) {\n        this.imageLoadCallback();\n        return this.imageLoadCallback = null;\n      }\n    },\n    zoomIn: function (zoomAt) {\n      if (zoomAt === void 0) zoomAt = null;\n      if (!this.canZoomIn) {\n        return;\n      }\n      this.zoomIndex += 1;\n      return this.zoomTo(this.zooms_[this.zoomIndex], zoomAt);\n    },\n    zoomOut: function (zoomAt) {\n      if (zoomAt === void 0) zoomAt = null;\n      if (!this.canZoomOut) {\n        return;\n      }\n      this.zoomIndex -= 1;\n      return this.zoomTo(this.zooms_[this.zoomIndex], zoomAt);\n    },\n    zoomTo: function (zoom, zoomAt) {\n      var this$1$1 = this;\n      if (zoomAt === void 0) zoomAt = null;\n      var animate, containerFixedX, containerFixedY, end, endX, endY, fixedX, fixedY, rect, start, startX, startY, t0, viewport;\n      viewport = this.$refs.viewport;\n      if (zoomAt) {\n        rect = viewport.getBoundingClientRect();\n        fixedX = zoomAt.pageX - rect.left;\n        fixedY = zoomAt.pageY - rect.top;\n      } else {\n        fixedX = viewport.clientWidth / 2;\n        fixedY = viewport.clientHeight / 2;\n      }\n      start = this.zoom;\n      end = zoom;\n      startX = viewport.scrollLeft;\n      startY = viewport.scrollTop;\n      containerFixedX = fixedX + startX;\n      containerFixedY = fixedY + startY;\n      endX = containerFixedX / start * end - fixedX;\n      endY = containerFixedY / start * end - fixedY;\n      t0 = Date.now();\n      this.zooming = true;\n      this.$emit('zoom-start', zoom);\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = t / this$1$1.zoomDuration;\n          if (ratio > 1 || this$1$1.IE) {\n            ratio = 1;\n          }\n          ratio = easeInOut(ratio);\n          this$1$1.zoom = start + (end - start) * ratio;\n          this$1$1.scrollLeft = startX + (endX - startX) * ratio;\n          this$1$1.scrollTop = startY + (endY - startY) * ratio;\n          if (t < this$1$1.zoomDuration) {\n            return animate();\n          } else {\n            this$1$1.$emit('zoom-end', zoom);\n            this$1$1.zooming = false;\n            this$1$1.zoom = zoom;\n            this$1$1.scrollLeft = endX;\n            return this$1$1.scrollTop = endY;\n          }\n        });\n      };\n      animate();\n      if (end > 1) {\n        return this.preloadImages(true);\n      }\n    },\n    zoomAt: function (zoomAt) {\n      this.zoomIndex = (this.zoomIndex + 1) % this.zooms_.length;\n      return this.zoomTo(this.zooms_[this.zoomIndex], zoomAt);\n    },\n    swipeStart: function (touch) {\n      this.touchStartX = touch.pageX;\n      this.touchStartY = touch.pageY;\n      this.maxMove = 0;\n      if (this.zoom <= 1) {\n        if (this.dragToFlip) {\n          return this.activeCursor = 'grab';\n        }\n      } else {\n        this.startScrollLeft = this.$refs.viewport.scrollLeft;\n        this.startScrollTop = this.$refs.viewport.scrollTop;\n        return this.activeCursor = 'all-scroll';\n      }\n    },\n    swipeMove: function (touch) {\n      var x, y;\n      if (this.touchStartX == null) {\n        return;\n      }\n      x = touch.pageX - this.touchStartX;\n      y = touch.pageY - this.touchStartY;\n      this.maxMove = Math.max(this.maxMove, Math.abs(x));\n      this.maxMove = Math.max(this.maxMove, Math.abs(y));\n      if (this.zoom > 1) {\n        if (this.dragToScroll) {\n          this.dragScroll(x, y);\n        }\n        return;\n      }\n      if (!this.dragToFlip) {\n        return;\n      }\n      if (Math.abs(y) > Math.abs(x)) {\n        return;\n      }\n      this.activeCursor = 'grabbing';\n      if (x > 0) {\n        if (this.flip.direction === null && this.canFlipLeft && x >= this.swipeMin) {\n          this.flipStart('left', false);\n        }\n        if (this.flip.direction === 'left') {\n          this.flip.progress = x / this.pageWidth;\n          if (this.flip.progress > 1) {\n            this.flip.progress = 1;\n          }\n        }\n      } else {\n        if (this.flip.direction === null && this.canFlipRight && x <= -this.swipeMin) {\n          this.flipStart('right', false);\n        }\n        if (this.flip.direction === 'right') {\n          this.flip.progress = -x / this.pageWidth;\n          if (this.flip.progress > 1) {\n            this.flip.progress = 1;\n          }\n        }\n      }\n      return true;\n    },\n    swipeEnd: function (touch) {\n      if (this.touchStartX == null) {\n        return;\n      }\n      if (this.clickToZoom && this.maxMove < this.swipeMin) {\n        this.zoomAt(touch);\n      }\n      if (this.flip.direction !== null && !this.flip.auto) {\n        if (this.flip.progress > 1 / 4) {\n          this.flipAuto(false);\n        } else {\n          this.flipRevert();\n        }\n      }\n      this.touchStartX = null;\n      return this.activeCursor = null;\n    },\n    onTouchStart: function (ev) {\n      this.hasTouchEvents = true;\n      return this.swipeStart(ev.changedTouches[0]);\n    },\n    onTouchMove: function (ev) {\n      if (this.swipeMove(ev.changedTouches[0])) {\n        if (ev.cancelable) {\n          return ev.preventDefault();\n        }\n      }\n    },\n    onTouchEnd: function (ev) {\n      return this.swipeEnd(ev.changedTouches[0]);\n    },\n    onPointerDown: function (ev) {\n      this.hasPointerEvents = true;\n      if (this.hasTouchEvents) {\n        return;\n      }\n      if (ev.which && ev.which !== 1) {\n        // Ignore right-click\n        return;\n      }\n      this.swipeStart(ev);\n      try {\n        return ev.target.setPointerCapture(ev.pointerId);\n      } catch (error) {}\n    },\n    onPointerMove: function (ev) {\n      if (!this.hasTouchEvents) {\n        return this.swipeMove(ev);\n      }\n    },\n    onPointerUp: function (ev) {\n      if (this.hasTouchEvents) {\n        return;\n      }\n      this.swipeEnd(ev);\n      try {\n        return ev.target.releasePointerCapture(ev.pointerId);\n      } catch (error) {}\n    },\n    onMouseDown: function (ev) {\n      if (this.hasTouchEvents || this.hasPointerEvents) {\n        return;\n      }\n      if (ev.which && ev.which !== 1) {\n        // Ignore right-click\n        return;\n      }\n      return this.swipeStart(ev);\n    },\n    onMouseMove: function (ev) {\n      if (!(this.hasTouchEvents || this.hasPointerEvents)) {\n        return this.swipeMove(ev);\n      }\n    },\n    onMouseUp: function (ev) {\n      if (!(this.hasTouchEvents || this.hasPointerEvents)) {\n        return this.swipeEnd(ev);\n      }\n    },\n    dragScroll: function (x, y) {\n      this.scrollLeft = this.startScrollLeft - x;\n      return this.scrollTop = this.startScrollTop - y;\n    },\n    onWheel: function (ev) {\n      if (this.wheel === 'scroll' && this.zoom > 1 && this.dragToScroll) {\n        this.scrollLeft = this.$refs.viewport.scrollLeft + ev.deltaX;\n        this.scrollTop = this.$refs.viewport.scrollTop + ev.deltaY;\n        if (ev.cancelable) {\n          ev.preventDefault();\n        }\n      }\n      if (this.wheel === 'zoom') {\n        if (ev.deltaY >= 100) {\n          this.zoomOut(ev);\n          return ev.preventDefault();\n        } else if (ev.deltaY <= -100) {\n          this.zoomIn(ev);\n          return ev.preventDefault();\n        }\n      }\n    },\n    preloadImages: function (hiRes) {\n      if (hiRes === void 0) hiRes = false;\n      var i, j, k, ref, ref1, ref2, ref3, src;\n      for (i = j = ref = this.currentPage - 3, ref1 = this.currentPage + 3; ref <= ref1 ? j <= ref1 : j >= ref1; i = ref <= ref1 ? ++j : --j) {\n        this.pageUrlLoading(i); // this preloads image\n      }\n\n      if (hiRes) {\n        for (i = k = ref2 = this.currentPage, ref3 = this.currentPage + this.displayedPages; ref2 <= ref3 ? k < ref3 : k > ref3; i = ref2 <= ref3 ? ++k : --k) {\n          src = this.pagesHiRes[i];\n          if (src) {\n            new Image().src = src;\n          }\n        }\n      }\n    },\n    goToPage: function (p) {\n      if (p === null || p === this.page) {\n        return;\n      }\n      if (this.pages[0] === null) {\n        if (this.displayedPages === 2 && p === 1) {\n          this.currentPage = 0;\n        } else {\n          this.currentPage = p;\n        }\n      } else {\n        this.currentPage = p - 1;\n      }\n      this.minX = 2e308;\n      this.maxX = -2e308;\n      return this.currentCenterOffset = this.centerOffset;\n    },\n    loadImage: function (url) {\n      var this$1$1 = this;\n      var img;\n      if (this.imageWidth === null) {\n        // First loaded image defines the image width and height.\n        // So it must be true image, not 'loading' image.\n        return url;\n      } else {\n        if (this.loadedImages[url]) {\n          return url;\n        } else {\n          img = new Image();\n          img.onload = function () {\n            if (this$1$1.$set) {\n              return this$1$1.$set(this$1$1.loadedImages, url, true);\n            } else {\n              return this$1$1.loadedImages[url] = true;\n            }\n          };\n          img.src = url;\n          return this.loadingImage;\n        }\n      }\n    }\n  },\n  watch: {\n    currentPage: function () {\n      this.firstPage = this.currentPage;\n      this.secondPage = this.currentPage + 1;\n      return this.preloadImages();\n    },\n    centerOffset: function () {\n      var this$1$1 = this;\n      var animate;\n      if (this.animatingCenter) {\n        return;\n      }\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var diff, rate;\n          rate = 0.1;\n          diff = this$1$1.centerOffset - this$1$1.currentCenterOffset;\n          if (Math.abs(diff) < 0.5) {\n            this$1$1.currentCenterOffset = this$1$1.centerOffset;\n            return this$1$1.animatingCenter = false;\n          } else {\n            this$1$1.currentCenterOffset += diff * rate;\n            return animate();\n          }\n        });\n      };\n      this.animatingCenter = true;\n      return animate();\n    },\n    scrollLeftLimited: function (val) {\n      var this$1$1 = this;\n      if (this.IE) {\n        return requestAnimationFrame(function () {\n          return this$1$1.$refs.viewport.scrollLeft = val;\n        });\n      } else {\n        return this.$refs.viewport.scrollLeft = val;\n      }\n    },\n    scrollTopLimited: function (val) {\n      var this$1$1 = this;\n      if (this.IE) {\n        return requestAnimationFrame(function () {\n          return this$1$1.$refs.viewport.scrollTop = val;\n        });\n      } else {\n        return this.$refs.viewport.scrollTop = val;\n      }\n    },\n    pages: function (after, before) {\n      this.fixFirstPage();\n      if (!(before != null ? before.length : void 0) && (after != null ? after.length : void 0)) {\n        if (this.startPage > 1 && after[0] === null) {\n          return this.currentPage++;\n        }\n      }\n    },\n    startPage: function (p) {\n      return this.goToPage(p);\n    }\n  }\n};\nvar _hoisted_1 = [\"src\"];\nvar _hoisted_2 = [\"src\"];\nfunction render(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"div\", null, [renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps({\n    canFlipLeft: _ctx.canFlipLeft,\n    canFlipRight: _ctx.canFlipRight,\n    canZoomIn: _ctx.canZoomIn,\n    canZoomOut: _ctx.canZoomOut,\n    page: _ctx.page,\n    numPages: _ctx.numPages,\n    flipLeft: _ctx.flipLeft,\n    flipRight: _ctx.flipRight,\n    zoomIn: _ctx.zoomIn,\n    zoomOut: _ctx.zoomOut\n  }))), createElementVNode(\"div\", {\n    class: normalizeClass([\"viewport\", {\n      zoom: _ctx.zooming || _ctx.zoom > 1,\n      'drag-to-scroll': _ctx.dragToScroll\n    }]),\n    ref: \"viewport\",\n    style: normalizeStyle({\n      cursor: _ctx.cursor == 'grabbing' ? 'grabbing' : 'auto'\n    }),\n    onTouchmove: _cache[7] || (_cache[7] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onTouchMove && _ctx.onTouchMove.apply(_ctx, args);\n    }),\n    onPointermove: _cache[8] || (_cache[8] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onPointerMove && _ctx.onPointerMove.apply(_ctx, args);\n    }),\n    onMousemove: _cache[9] || (_cache[9] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onMouseMove && _ctx.onMouseMove.apply(_ctx, args);\n    }),\n    onTouchend: _cache[10] || (_cache[10] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onTouchEnd && _ctx.onTouchEnd.apply(_ctx, args);\n    }),\n    onTouchcancel: _cache[11] || (_cache[11] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onTouchEnd && _ctx.onTouchEnd.apply(_ctx, args);\n    }),\n    onPointerup: _cache[12] || (_cache[12] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onPointerUp && _ctx.onPointerUp.apply(_ctx, args);\n    }),\n    onPointercancel: _cache[13] || (_cache[13] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onPointerUp && _ctx.onPointerUp.apply(_ctx, args);\n    }),\n    onMouseup: _cache[14] || (_cache[14] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onMouseUp && _ctx.onMouseUp.apply(_ctx, args);\n    }),\n    onWheel: _cache[15] || (_cache[15] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onWheel && _ctx.onWheel.apply(_ctx, args);\n    })\n  }, [createElementVNode(\"div\", {\n    class: \"flipbook-container\",\n    style: normalizeStyle({\n      transform: \"scale(\" + _ctx.zoom + \")\"\n    })\n  }, [createElementVNode(\"div\", {\n    class: \"click-to-flip left\",\n    style: normalizeStyle({\n      cursor: _ctx.canFlipLeft ? 'pointer' : 'auto'\n    }),\n    onClick: _cache[0] || (_cache[0] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.flipLeft && _ctx.flipLeft.apply(_ctx, args);\n    })\n  }, null, 4 /* STYLE */), createElementVNode(\"div\", {\n    class: \"click-to-flip right\",\n    style: normalizeStyle({\n      cursor: _ctx.canFlipRight ? 'pointer' : 'auto'\n    }),\n    onClick: _cache[1] || (_cache[1] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.flipRight && _ctx.flipRight.apply(_ctx, args);\n    })\n  }, null, 4 /* STYLE */), createElementVNode(\"div\", {\n    style: normalizeStyle({\n      transform: \"translateX(\" + _ctx.centerOffsetSmoothed + \"px)\"\n    })\n  }, [_ctx.showLeftPage ? (openBlock(), createElementBlock(\"img\", {\n    key: 0,\n    class: \"page fixed\",\n    style: normalizeStyle({\n      width: _ctx.pageWidth + 'px',\n      height: _ctx.pageHeight + 'px',\n      left: _ctx.xMargin + 'px',\n      top: _ctx.yMargin + 'px'\n    }),\n    src: _ctx.pageUrlLoading(_ctx.leftPage, true),\n    onLoad: _cache[2] || (_cache[2] = function ($event) {\n      return _ctx.didLoadImage($event);\n    })\n  }, null, 44 /* STYLE, PROPS, HYDRATE_EVENTS */, _hoisted_1)) : createCommentVNode(\"v-if\", true), _ctx.showRightPage ? (openBlock(), createElementBlock(\"img\", {\n    key: 1,\n    class: \"page fixed\",\n    style: normalizeStyle({\n      width: _ctx.pageWidth + 'px',\n      height: _ctx.pageHeight + 'px',\n      left: _ctx.viewWidth / 2 + 'px',\n      top: _ctx.yMargin + 'px'\n    }),\n    src: _ctx.pageUrlLoading(_ctx.rightPage, true),\n    onLoad: _cache[3] || (_cache[3] = function ($event) {\n      return _ctx.didLoadImage($event);\n    })\n  }, null, 44 /* STYLE, PROPS, HYDRATE_EVENTS */, _hoisted_2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n    style: normalizeStyle({\n      opacity: _ctx.flip.opacity\n    })\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.polygonArray, function (ref) {\n    var key = ref[0];\n    var bgImage = ref[1];\n    var lighting = ref[2];\n    var bgPos = ref[3];\n    var transform = ref[4];\n    var z = ref[5];\n    return openBlock(), createElementBlock(\"div\", {\n      class: normalizeClass([\"polygon\", {\n        blank: !bgImage\n      }]),\n      key: key,\n      style: normalizeStyle({\n        backgroundImage: bgImage && \"url(\" + _ctx.loadImage(bgImage) + \")\",\n        backgroundSize: _ctx.polygonBgSize,\n        backgroundPosition: bgPos,\n        width: _ctx.polygonWidth,\n        height: _ctx.polygonHeight,\n        transform: transform,\n        zIndex: z\n      })\n    }, [withDirectives(createElementVNode(\"div\", {\n      class: \"lighting\",\n      style: normalizeStyle({\n        backgroundImage: lighting\n      })\n    }, null, 4 /* STYLE */), [[vShow, lighting.length]])], 6 /* CLASS, STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))], 4 /* STYLE */), createElementVNode(\"div\", {\n    class: \"bounding-box\",\n    style: normalizeStyle({\n      left: _ctx.boundingLeft + 'px',\n      top: _ctx.yMargin + 'px',\n      width: _ctx.boundingRight - _ctx.boundingLeft + 'px',\n      height: _ctx.pageHeight + 'px',\n      cursor: _ctx.cursor\n    }),\n    onTouchstart: _cache[4] || (_cache[4] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onTouchStart && _ctx.onTouchStart.apply(_ctx, args);\n    }),\n    onPointerdown: _cache[5] || (_cache[5] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onPointerDown && _ctx.onPointerDown.apply(_ctx, args);\n    }),\n    onMousedown: _cache[6] || (_cache[6] = function () {\n      var args = [],\n        len = arguments.length;\n      while (len--) args[len] = arguments[len];\n      return _ctx.onMouseDown && _ctx.onMouseDown.apply(_ctx, args);\n    })\n  }, null, 36 /* STYLE, HYDRATE_EVENTS */)], 4 /* STYLE */)], 4 /* STYLE */)], 38 /* CLASS, STYLE, HYDRATE_EVENTS */)]);\n}\n\nvar e = [],\n  t = [];\nfunction n(n, r) {\n  if (n && \"undefined\" != typeof document) {\n    var a,\n      s = !0 === r.prepend ? \"prepend\" : \"append\",\n      d = !0 === r.singleTag,\n      i = \"string\" == typeof r.container ? document.querySelector(r.container) : document.getElementsByTagName(\"head\")[0];\n    if (d) {\n      var u = e.indexOf(i);\n      -1 === u && (u = e.push(i) - 1, t[u] = {}), a = t[u] && t[u][s] ? t[u][s] : t[u][s] = c();\n    } else {\n      a = c();\n    }\n    65279 === n.charCodeAt(0) && (n = n.substring(1)), a.styleSheet ? a.styleSheet.cssText += n : a.appendChild(document.createTextNode(n));\n  }\n  function c() {\n    var e = document.createElement(\"style\");\n    if (e.setAttribute(\"type\", \"text/css\"), r.attributes) {\n      for (var t = Object.keys(r.attributes), n = 0; n < t.length; n++) {\n        e.setAttribute(t[n], r.attributes[t[n]]);\n      }\n    }\n    var a = \"prepend\" === s ? \"afterbegin\" : \"beforeend\";\n    return i.insertAdjacentElement(a, e), e;\n  }\n}\nvar css = \".viewport[data-v-5c04eecf]{-webkit-overflow-scrolling:touch;height:100%;width:100%}.viewport.zoom[data-v-5c04eecf]{overflow:scroll}.viewport.zoom.drag-to-scroll[data-v-5c04eecf]{overflow:hidden}.flipbook-container[data-v-5c04eecf]{height:100%;position:relative;-webkit-transform-origin:top left;transform-origin:top left;-webkit-user-select:none;user-select:none;width:100%}.click-to-flip[data-v-5c04eecf]{height:100%;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:50%}.click-to-flip.left[data-v-5c04eecf]{left:0}.click-to-flip.right[data-v-5c04eecf]{right:0}.bounding-box[data-v-5c04eecf]{position:absolute;-webkit-user-select:none;user-select:none}.page[data-v-5c04eecf],.polygon[data-v-5c04eecf]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute}.polygon[data-v-5c04eecf]{background-repeat:no-repeat;left:0;top:0;-webkit-transform-origin:center left;transform-origin:center left}.polygon.blank[data-v-5c04eecf]{background-color:#ddd}.polygon .lighting[data-v-5c04eecf]{height:100%;width:100%}\";\nn(css, {});\nscript.render = render;\nscript.__scopeId = \"data-v-5c04eecf\";\nscript.__file = \"src/Flipbook.vue\";\nexport { script as default };","map":{"version":3,"names":["multiply","perspective","translate","translate3d","rotateY","toString","identity","openBlock","createElementBlock","renderSlot","normalizeProps","guardReactiveProps","createElementVNode","normalizeClass","normalizeStyle","createCommentVNode","Fragment","renderList","withDirectives","vShow","Matrix","arg","m","concat","prototype","clone","multiply$1","perspective$1","d","transformX","x","translate$1","y","translate3d$1","z","rotateY$1","deg","toString$1","spinner","easeIn","easeInOut","easeOut","Math","pow","script","props","pages","type","Array","required","pagesHiRes","default","flipDuration","Number","zoomDuration","zooms","nPolygons","ambient","gloss","swipeMin","singlePage","Boolean","forwardDirection","validator","val","centering","startPage","loadingImage","String","clickToZoom","dragToFlip","wheel","data","viewWidth","viewHeight","imageWidth","imageHeight","displayedPages","nImageLoad","nImageLoadTrigger","imageLoadCallback","currentPage","firstPage","secondPage","zoomIndex","zoom","zooming","touchStartX","touchStartY","maxMove","activeCursor","hasTouchEvents","hasPointerEvents","minX","maxX","preloadedImages","flip","progress","direction","frontImage","backImage","auto","opacity","currentCenterOffset","animatingCenter","startScrollLeft","startScrollTop","scrollLeft","scrollTop","loadedImages","computed","IE","navigator","test","userAgent","canFlipLeft","canGoForward","canGoBack","canFlipRight","canZoomIn","zooms_","length","canZoomOut","numPages","page","max","pageUrl","leftPage","rightPage","showLeftPage","showRightPage","cursor","pageScale","scale","vw","xScale","yScale","pageWidth","round","pageHeight","xMargin","yMargin","polygonWidth","w","ceil","polygonHeight","polygonBgSize","polygonArray","makePolygonArray","boundingLeft","boundingRight","centerOffset","retval","centerOffsetSmoothed","dragToScroll","scrollLeftMin","scrollLeftMax","scrollTopMin","h","scrollTopMax","scrollLeftLimited","min","scrollTopLimited","mounted","window","addEventListener","onResize","passive","goToPage","beforeDestroy","removeEventListener","methods","viewport","$refs","clientWidth","clientHeight","fixFirstPage","hiRes","url","pageUrlLoading","loadImage","flipLeft","flipStart","flipRight","face","bgPos","dRadian","dRotate","i","image","j","lighting","originRight","pageMatrix","pageRotation","pageX","rad","radian","radius","ref","results","rotate","theta","x0","x1","PI","sin","cos","computeLighting","push","abs","rot","DEG","POW","blackness","diffuse","gradients","lightingPoints","specular","map","join","this$1$1","requestAnimationFrame","flipAuto","ease","animate","duration","startRatio","t0","Date","now","$emit","ratio","t","onImageLoad","flipRevert","trigger","cb","didLoadImage","ev","target","path","naturalWidth","naturalHeight","preloadImages","zoomIn","zoomAt","zoomTo","zoomOut","containerFixedX","containerFixedY","end","endX","endY","fixedX","fixedY","rect","start","startX","startY","getBoundingClientRect","left","pageY","top","swipeStart","touch","swipeMove","dragScroll","swipeEnd","onTouchStart","changedTouches","onTouchMove","cancelable","preventDefault","onTouchEnd","onPointerDown","which","setPointerCapture","pointerId","error","onPointerMove","onPointerUp","releasePointerCapture","onMouseDown","onMouseMove","onMouseUp","onWheel","deltaX","deltaY","k","ref1","ref2","ref3","src","Image","p","img","onload","$set","watch","diff","rate","after","before","_hoisted_1","_hoisted_2","render","_ctx","_cache","$slots","class","style","onTouchmove","args","len","arguments","apply","onPointermove","onMousemove","onTouchend","onTouchcancel","onPointerup","onPointercancel","onMouseup","transform","onClick","key","width","height","onLoad","$event","bgImage","blank","backgroundImage","backgroundSize","backgroundPosition","zIndex","onTouchstart","onPointerdown","onMousedown","e","n","r","document","a","s","prepend","singleTag","container","querySelector","getElementsByTagName","u","indexOf","c","charCodeAt","substring","styleSheet","cssText","appendChild","createTextNode","createElement","setAttribute","attributes","Object","keys","insertAdjacentElement","css","__scopeId","__file"],"sources":["/Users/sebastianbelalcazar/Downloads/VueJsBrochure/nombre-de-tu-proyecto/node_modules/flipbook-vue/dist/flipbook.mjs"],"sourcesContent":["/*!\n * @license\n * flipbook-vue v1.0.0-beta.4\n * Copyright © 2023 Takeshi Sone.\n * Released under the MIT License.\n */\n\nimport { multiply, perspective, translate, translate3d, rotateY, toString, identity } from 'rematrix';\nimport { openBlock, createElementBlock, renderSlot, normalizeProps, guardReactiveProps, createElementVNode, normalizeClass, normalizeStyle, createCommentVNode, Fragment, renderList, withDirectives, vShow } from 'vue';\n\nvar Matrix = /*@__PURE__*/(function () {\n  function Matrix(arg) {\n    if (arg) {\n      if (arg.m) {\n        this.m = [].concat( arg.m );\n      } else {\n        this.m = [].concat( arg );\n      }\n    } else {\n      this.m = identity();\n    }\n  }\n\n  Matrix.prototype.clone = function clone () {\n    return new Matrix(this);\n  };\n\n  Matrix.prototype.multiply = function multiply$1 (m) {\n    return this.m = multiply(this.m, m);\n  };\n\n  Matrix.prototype.perspective = function perspective$1 (d) {\n    return this.multiply(perspective(d));\n  };\n\n  Matrix.prototype.transformX = function transformX (x) {\n    return (x * this.m[0] + this.m[12]) / (x * this.m[3] + this.m[15]);\n  };\n\n  Matrix.prototype.translate = function translate$1 (x, y) {\n    return this.multiply(translate(x, y));\n  };\n\n  Matrix.prototype.translate3d = function translate3d$1 (x, y, z) {\n    return this.multiply(translate3d(x, y, z));\n  };\n\n  Matrix.prototype.rotateY = function rotateY$1 (deg) {\n    return this.multiply(rotateY(deg));\n  };\n\n  Matrix.prototype.toString = function toString$1 () {\n    return toString(this.m);\n  };\n\n  return Matrix;\n}());\n\nvar spinner = \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22500%22%20height%3D%22500%22%20viewBox%3D%220%200%20500%20500%22%20fill%3D%22transparent%22%20style%3D%22background-color%3A%20%23fff%22%3E%20%20%3Ccircle%20%20%20%20cx%3D%22250%22%20%20%20%20cy%3D%22250%22%20%20%20%20r%3D%2248%22%20%20%20%20stroke%3D%22%23333%22%20%20%20%20stroke-width%3D%222%22%20%20%20%20stroke-dasharray%3D%22271%2030%22%20%20%3E%20%20%20%20%3CanimateTransform%20%20%20%20%20%20attributeName%3D%22transform%22%20%20%20%20%20%20attributeType%3D%22XML%22%20%20%20%20%20%20type%3D%22rotate%22%20%20%20%20%20%20from%3D%220%20250%20250%22%20%20%20%20%20%20to%3D%22360%20250%20250%22%20%20%20%20%20%20dur%3D%221s%22%20%20%20%20%20%20repeatCount%3D%22indefinite%22%20%20%20%20%2F%3E%20%20%3C%2Fcircle%3E%3C%2Fsvg%3E\";\n\nvar easeIn, easeInOut, easeOut;\n\neaseIn = function(x) {\n  return Math.pow(x, 2);\n};\n\neaseOut = function(x) {\n  return 1 - easeIn(1 - x);\n};\n\neaseInOut = function(x) {\n  if (x < 0.5) {\n    return easeIn(x * 2) / 2;\n  } else {\n    return 0.5 + easeOut((x - 0.5) * 2) / 2;\n  }\n};\n\nvar script = {\n  props: {\n    pages: {\n      type: Array,\n      required: true\n    },\n    pagesHiRes: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    flipDuration: {\n      type: Number,\n      default: 1000\n    },\n    zoomDuration: {\n      type: Number,\n      default: 500\n    },\n    zooms: {\n      type: Array,\n      default: function() {\n        return [1, 2, 4];\n      }\n    },\n    perspective: {\n      type: Number,\n      default: 2400\n    },\n    nPolygons: {\n      type: Number,\n      default: 10\n    },\n    ambient: {\n      type: Number,\n      default: 0.4\n    },\n    gloss: {\n      type: Number,\n      default: 0.6\n    },\n    swipeMin: {\n      type: Number,\n      default: 3\n    },\n    singlePage: {\n      type: Boolean,\n      default: false\n    },\n    forwardDirection: {\n      validator: function(val) {\n        return val === 'right' || val === 'left';\n      },\n      default: 'right'\n    },\n    centering: {\n      type: Boolean,\n      default: true\n    },\n    startPage: {\n      type: Number,\n      default: null\n    },\n    loadingImage: {\n      type: String,\n      default: spinner\n    },\n    clickToZoom: {\n      type: Boolean,\n      default: true\n    },\n    dragToFlip: {\n      type: Boolean,\n      default: true\n    },\n    wheel: {\n      type: String,\n      default: 'scroll'\n    }\n  },\n  data: function() {\n    return {\n      viewWidth: 0,\n      viewHeight: 0,\n      imageWidth: null,\n      imageHeight: null,\n      displayedPages: 1,\n      nImageLoad: 0,\n      nImageLoadTrigger: 0,\n      imageLoadCallback: null,\n      currentPage: 0,\n      firstPage: 0,\n      secondPage: 1,\n      zoomIndex: 0,\n      zoom: 1,\n      zooming: false,\n      touchStartX: null,\n      touchStartY: null,\n      maxMove: 0,\n      activeCursor: null,\n      hasTouchEvents: false,\n      hasPointerEvents: false,\n      minX: 2e308,\n      maxX: -2e308,\n      preloadedImages: {},\n      flip: {\n        progress: 0,\n        direction: null,\n        frontImage: null,\n        backImage: null,\n        auto: false,\n        opacity: 1\n      },\n      currentCenterOffset: null,\n      animatingCenter: false,\n      startScrollLeft: 0,\n      startScrollTop: 0,\n      scrollLeft: 0,\n      scrollTop: 0,\n      loadedImages: {}\n    };\n  },\n  computed: {\n    IE: function() {\n      return typeof navigator !== 'undefined' && /Trident/.test(navigator.userAgent);\n    },\n    canFlipLeft: function() {\n      if (this.forwardDirection === 'left') {\n        return this.canGoForward;\n      } else {\n        return this.canGoBack;\n      }\n    },\n    canFlipRight: function() {\n      if (this.forwardDirection === 'right') {\n        return this.canGoForward;\n      } else {\n        return this.canGoBack;\n      }\n    },\n    canZoomIn: function() {\n      return !this.zooming && this.zoomIndex < this.zooms_.length - 1;\n    },\n    canZoomOut: function() {\n      return !this.zooming && this.zoomIndex > 0;\n    },\n    numPages: function() {\n      if (this.pages[0] === null) {\n        return this.pages.length - 1;\n      } else {\n        return this.pages.length;\n      }\n    },\n    page: function() {\n      if (this.pages[0] !== null) {\n        return this.currentPage + 1;\n      } else {\n        return Math.max(1, this.currentPage);\n      }\n    },\n    zooms_: function() {\n      return this.zooms || [1];\n    },\n    canGoForward: function() {\n      return !this.flip.direction && this.currentPage < this.pages.length - this.displayedPages;\n    },\n    canGoBack: function() {\n      return !this.flip.direction && this.currentPage >= this.displayedPages && !(this.displayedPages === 1 && !this.pageUrl(this.firstPage - 1));\n    },\n    leftPage: function() {\n      if (this.forwardDirection === 'right' || this.displayedPages === 1) {\n        return this.firstPage;\n      } else {\n        return this.secondPage;\n      }\n    },\n    rightPage: function() {\n      if (this.forwardDirection === 'left') {\n        return this.firstPage;\n      } else {\n        return this.secondPage;\n      }\n    },\n    showLeftPage: function() {\n      return this.pageUrl(this.leftPage);\n    },\n    showRightPage: function() {\n      return this.pageUrl(this.rightPage) && this.displayedPages === 2;\n    },\n    cursor: function() {\n      if (this.activeCursor) {\n        return this.activeCursor;\n      } else if (this.IE) {\n        return 'auto';\n      } else if (this.clickToZoom && this.canZoomIn) {\n        return 'zoom-in';\n      } else if (this.clickToZoom && this.canZoomOut) {\n        return 'zoom-out';\n      } else if (this.dragToFlip) {\n        return 'grab';\n      } else {\n        return 'auto';\n      }\n    },\n    pageScale: function() {\n      var scale, vw, xScale, yScale;\n      vw = this.viewWidth / this.displayedPages;\n      xScale = vw / this.imageWidth;\n      yScale = this.viewHeight / this.imageHeight;\n      scale = xScale < yScale ? xScale : yScale;\n      if (scale < 1) {\n        return scale;\n      } else {\n        return 1;\n      }\n    },\n    pageWidth: function() {\n      return Math.round(this.imageWidth * this.pageScale);\n    },\n    pageHeight: function() {\n      return Math.round(this.imageHeight * this.pageScale);\n    },\n    xMargin: function() {\n      return (this.viewWidth - this.pageWidth * this.displayedPages) / 2;\n    },\n    yMargin: function() {\n      return (this.viewHeight - this.pageHeight) / 2;\n    },\n    polygonWidth: function() {\n      var w;\n      w = this.pageWidth / this.nPolygons;\n      w = Math.ceil(w + 1 / this.zoom);\n      return w + 'px';\n    },\n    polygonHeight: function() {\n      return this.pageHeight + 'px';\n    },\n    polygonBgSize: function() {\n      return ((this.pageWidth) + \"px \" + (this.pageHeight) + \"px\");\n    },\n    polygonArray: function() {\n      return this.makePolygonArray('front').concat(this.makePolygonArray('back'));\n    },\n    boundingLeft: function() {\n      var x;\n      if (this.displayedPages === 1) {\n        return this.xMargin;\n      } else {\n        x = this.pageUrl(this.leftPage) ? this.xMargin : this.viewWidth / 2;\n        if (x < this.minX) {\n          return x;\n        } else {\n          return this.minX;\n        }\n      }\n    },\n    boundingRight: function() {\n      var x;\n      if (this.displayedPages === 1) {\n        return this.viewWidth - this.xMargin;\n      } else {\n        x = this.pageUrl(this.rightPage) ? this.viewWidth - this.xMargin : this.viewWidth / 2;\n        if (x > this.maxX) {\n          return x;\n        } else {\n          return this.maxX;\n        }\n      }\n    },\n    centerOffset: function() {\n      var retval;\n      retval = this.centering ? Math.round(this.viewWidth / 2 - (this.boundingLeft + this.boundingRight) / 2) : 0;\n      if (this.currentCenterOffset === null && this.imageWidth !== null) {\n        this.currentCenterOffset = retval;\n      }\n      return retval;\n    },\n    centerOffsetSmoothed: function() {\n      return Math.round(this.currentCenterOffset);\n    },\n    dragToScroll: function() {\n      return !this.hasTouchEvents;\n    },\n    scrollLeftMin: function() {\n      var w;\n      w = (this.boundingRight - this.boundingLeft) * this.zoom;\n      if (w < this.viewWidth) {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom - (this.viewWidth - w) / 2;\n      } else {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom;\n      }\n    },\n    scrollLeftMax: function() {\n      var w;\n      w = (this.boundingRight - this.boundingLeft) * this.zoom;\n      if (w < this.viewWidth) {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom - (this.viewWidth - w) / 2;\n      } else {\n        return (this.boundingRight + this.centerOffsetSmoothed) * this.zoom - this.viewWidth;\n      }\n    },\n    scrollTopMin: function() {\n      var h;\n      h = this.pageHeight * this.zoom;\n      if (h < this.viewHeight) {\n        return this.yMargin * this.zoom - (this.viewHeight - h) / 2;\n      } else {\n        return this.yMargin * this.zoom;\n      }\n    },\n    scrollTopMax: function() {\n      var h;\n      h = this.pageHeight * this.zoom;\n      if (h < this.viewHeight) {\n        return this.yMargin * this.zoom - (this.viewHeight - h) / 2;\n      } else {\n        return (this.yMargin + this.pageHeight) * this.zoom - this.viewHeight;\n      }\n    },\n    scrollLeftLimited: function() {\n      return Math.min(this.scrollLeftMax, Math.max(this.scrollLeftMin, this.scrollLeft));\n    },\n    scrollTopLimited: function() {\n      return Math.min(this.scrollTopMax, Math.max(this.scrollTopMin, this.scrollTop));\n    }\n  },\n  mounted: function() {\n    window.addEventListener('resize', this.onResize, {\n      passive: true\n    });\n    this.onResize();\n    this.zoom = this.zooms_[0];\n    return this.goToPage(this.startPage);\n  },\n  beforeDestroy: function() {\n    return window.removeEventListener('resize', this.onResize, {\n      passive: true\n    });\n  },\n  methods: {\n    onResize: function() {\n      var viewport;\n      viewport = this.$refs.viewport;\n      if (!viewport) {\n        return;\n      }\n      this.viewWidth = viewport.clientWidth;\n      this.viewHeight = viewport.clientHeight;\n      this.displayedPages = this.viewWidth > this.viewHeight && !this.singlePage ? 2 : 1;\n      if (this.displayedPages === 2) {\n        this.currentPage &= ~1;\n      }\n      this.fixFirstPage();\n      this.minX = 2e308;\n      return this.maxX = -2e308;\n    },\n    fixFirstPage: function() {\n      if (this.displayedPages === 1 && this.currentPage === 0 && this.pages.length && !this.pageUrl(0)) {\n        return this.currentPage++;\n      }\n    },\n    pageUrl: function(page, hiRes) {\n      if ( hiRes === void 0 ) hiRes = false;\n\n      var url;\n      if (hiRes && this.zoom > 1 && !this.zooming) {\n        url = this.pagesHiRes[page];\n        if (url) {\n          return url;\n        }\n      }\n      return this.pages[page] || null;\n    },\n    pageUrlLoading: function(page, hiRes) {\n      if ( hiRes === void 0 ) hiRes = false;\n\n      var url;\n      url = this.pageUrl(page, hiRes);\n      if (hiRes && this.zoom > 1 && !this.zooming) {\n        // High-res image doesn't use 'loading'\n        return url;\n      }\n      return url && this.loadImage(url);\n    },\n    flipLeft: function() {\n      if (!this.canFlipLeft) {\n        return;\n      }\n      return this.flipStart('left', true);\n    },\n    flipRight: function() {\n      if (!this.canFlipRight) {\n        return;\n      }\n      return this.flipStart('right', true);\n    },\n    makePolygonArray: function(face) {\n      var bgPos, dRadian, dRotate, direction, i, image, j, lighting, m, originRight, pageMatrix, pageRotation, pageX, polygonWidth, progress, rad, radian, radius, ref, results, rotate, theta, x, x0, x1, z;\n      if (!this.flip.direction) {\n        return [];\n      }\n      progress = this.flip.progress;\n      direction = this.flip.direction;\n      if (this.displayedPages === 1 && direction !== this.forwardDirection) {\n        progress = 1 - progress;\n        direction = this.forwardDirection;\n      }\n      this.flip.opacity = this.displayedPages === 1 && progress > .7 ? 1 - (progress - .7) / .3 : 1;\n      image = face === 'front' ? this.flip.frontImage : this.flip.backImage;\n      polygonWidth = this.pageWidth / this.nPolygons;\n      pageX = this.xMargin;\n      originRight = false;\n      if (this.displayedPages === 1) {\n        if (this.forwardDirection === 'right') {\n          if (face === 'back') {\n            originRight = true;\n            pageX = this.xMargin - this.pageWidth;\n          }\n        } else {\n          if (direction === 'left') {\n            if (face === 'back') {\n              pageX = this.pageWidth - this.xMargin;\n            } else {\n              originRight = true;\n            }\n          } else {\n            if (face === 'front') {\n              pageX = this.pageWidth - this.xMargin;\n            } else {\n              originRight = true;\n            }\n          }\n        }\n      } else {\n        if (direction === 'left') {\n          if (face === 'back') {\n            pageX = this.viewWidth / 2;\n          } else {\n            originRight = true;\n          }\n        } else {\n          if (face === 'front') {\n            pageX = this.viewWidth / 2;\n          } else {\n            originRight = true;\n          }\n        }\n      }\n      pageMatrix = new Matrix();\n      pageMatrix.translate(this.viewWidth / 2);\n      pageMatrix.perspective(this.perspective);\n      pageMatrix.translate(-this.viewWidth / 2);\n      pageMatrix.translate(pageX, this.yMargin);\n      pageRotation = 0;\n      if (progress > 0.5) {\n        pageRotation = -(progress - 0.5) * 2 * 180;\n      }\n      if (direction === 'left') {\n        pageRotation = -pageRotation;\n      }\n      if (face === 'back') {\n        pageRotation += 180;\n      }\n      if (pageRotation) {\n        if (originRight) {\n          pageMatrix.translate(this.pageWidth);\n        }\n        pageMatrix.rotateY(pageRotation);\n        if (originRight) {\n          pageMatrix.translate(-this.pageWidth);\n        }\n      }\n      if (progress < 0.5) {\n        theta = progress * 2 * Math.PI;\n      } else {\n        theta = (1 - (progress - 0.5) * 2) * Math.PI;\n      }\n      if (theta === 0) {\n        theta = 1e-9;\n      }\n      radius = this.pageWidth / theta;\n      radian = 0;\n      dRadian = theta / this.nPolygons;\n      rotate = dRadian / 2 / Math.PI * 180;\n      dRotate = dRadian / Math.PI * 180;\n      if (originRight) {\n        rotate = -theta / Math.PI * 180 + dRotate / 2;\n      }\n      if (face === 'back') {\n        rotate = -rotate;\n        dRotate = -dRotate;\n      }\n      this.minX = 2e308;\n      this.maxX = -2e308;\n      results = [];\n      for (i = j = 0, ref = this.nPolygons; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {\n        bgPos = (i / (this.nPolygons - 1) * 100) + \"% 0px\";\n        m = pageMatrix.clone();\n        rad = originRight ? theta - radian : radian;\n        x = Math.sin(rad) * radius;\n        if (originRight) {\n          x = this.pageWidth - x;\n        }\n        z = (1 - Math.cos(rad)) * radius;\n        if (face === 'back') {\n          z = -z;\n        }\n        m.translate3d(x, 0, z);\n        m.rotateY(-rotate);\n        x0 = m.transformX(0);\n        x1 = m.transformX(polygonWidth);\n        this.maxX = Math.max(Math.max(x0, x1), this.maxX);\n        this.minX = Math.min(Math.min(x0, x1), this.minX);\n        lighting = this.computeLighting(pageRotation - rotate, dRotate);\n        radian += dRadian;\n        rotate += dRotate;\n        results.push([face + i, image, lighting, bgPos, m.toString(), Math.abs(Math.round(z))]);\n      }\n      return results;\n    },\n    computeLighting: function(rot, dRotate) {\n      var DEG, POW, blackness, diffuse, gradients, lightingPoints, specular;\n      gradients = [];\n      lightingPoints = [-0.5, -0.25, 0, 0.25, 0.5];\n      if (this.ambient < 1) {\n        blackness = 1 - this.ambient;\n        diffuse = lightingPoints.map(function (d) {\n          return (1 - Math.cos((rot - dRotate * d) / 180 * Math.PI)) * blackness;\n        });\n        gradients.push((\"linear-gradient(to right,\\n  rgba(0, 0, 0, \" + (diffuse[0]) + \"),\\n  rgba(0, 0, 0, \" + (diffuse[1]) + \") 25%,\\n  rgba(0, 0, 0, \" + (diffuse[2]) + \") 50%,\\n  rgba(0, 0, 0, \" + (diffuse[3]) + \") 75%,\\n  rgba(0, 0, 0, \" + (diffuse[4]) + \"))\"));\n      }\n      if (this.gloss > 0 && !this.IE) {\n        DEG = 30;\n        POW = 200;\n        specular = lightingPoints.map(function (d) {\n          return Math.max(Math.pow( Math.cos((rot + DEG - dRotate * d) / 180 * Math.PI), POW ), Math.pow( Math.cos((rot - DEG - dRotate * d) / 180 * Math.PI), POW ));\n        });\n        gradients.push((\"linear-gradient(to right,\\n  rgba(255, 255, 255, \" + (specular[0] * this.gloss) + \"),\\n  rgba(255, 255, 255, \" + (specular[1] * this.gloss) + \") 25%,\\n  rgba(255, 255, 255, \" + (specular[2] * this.gloss) + \") 50%,\\n  rgba(255, 255, 255, \" + (specular[3] * this.gloss) + \") 75%,\\n  rgba(255, 255, 255, \" + (specular[4] * this.gloss) + \"))\"));\n      }\n      return gradients.join(',');\n    },\n    flipStart: function(direction, auto) {\n      var this$1$1 = this;\n\n      if (direction !== this.forwardDirection) {\n        if (this.displayedPages === 1) {\n          this.flip.frontImage = this.pageUrl(this.currentPage - 1);\n          this.flip.backImage = null;\n        } else {\n          this.flip.frontImage = this.pageUrl(this.firstPage);\n          this.flip.backImage = this.pageUrl(this.currentPage - this.displayedPages + 1);\n        }\n      } else {\n        if (this.displayedPages === 1) {\n          this.flip.frontImage = this.pageUrl(this.currentPage);\n          this.flip.backImage = null;\n        } else {\n          this.flip.frontImage = this.pageUrl(this.secondPage);\n          this.flip.backImage = this.pageUrl(this.currentPage + this.displayedPages);\n        }\n      }\n      this.flip.direction = direction;\n      this.flip.progress = 0;\n      return requestAnimationFrame(function () {\n        return requestAnimationFrame(function () {\n          if (this$1$1.flip.direction !== this$1$1.forwardDirection) {\n            if (this$1$1.displayedPages === 2) {\n              this$1$1.firstPage = this$1$1.currentPage - this$1$1.displayedPages;\n            }\n          } else {\n            if (this$1$1.displayedPages === 1) {\n              this$1$1.firstPage = this$1$1.currentPage + this$1$1.displayedPages;\n            } else {\n              this$1$1.secondPage = this$1$1.currentPage + 1 + this$1$1.displayedPages;\n            }\n          }\n          if (auto) {\n            return this$1$1.flipAuto(true);\n          }\n        });\n      });\n    },\n    flipAuto: function(ease) {\n      var this$1$1 = this;\n\n      var animate, duration, startRatio, t0;\n      t0 = Date.now();\n      duration = this.flipDuration * (1 - this.flip.progress);\n      startRatio = this.flip.progress;\n      this.flip.auto = true;\n      this.$emit((\"flip-\" + (this.flip.direction) + \"-start\"), this.page);\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = startRatio + t / duration;\n          if (ratio > 1) {\n            ratio = 1;\n          }\n          this$1$1.flip.progress = ease ? easeInOut(ratio) : ratio;\n          if (ratio < 1) {\n            return animate();\n          } else {\n            if (this$1$1.flip.direction !== this$1$1.forwardDirection) {\n              this$1$1.currentPage -= this$1$1.displayedPages;\n            } else {\n              this$1$1.currentPage += this$1$1.displayedPages;\n            }\n            this$1$1.$emit((\"flip-\" + (this$1$1.flip.direction) + \"-end\"), this$1$1.page);\n            if (this$1$1.displayedPages === 1 && this$1$1.flip.direction === this$1$1.forwardDirection) {\n              this$1$1.flip.direction = null;\n            } else {\n              this$1$1.onImageLoad(1, function () {\n                return this$1$1.flip.direction = null;\n              });\n            }\n            return this$1$1.flip.auto = false;\n          }\n        });\n      };\n      return animate();\n    },\n    flipRevert: function() {\n      var this$1$1 = this;\n\n      var animate, duration, startRatio, t0;\n      t0 = Date.now();\n      duration = this.flipDuration * this.flip.progress;\n      startRatio = this.flip.progress;\n      this.flip.auto = true;\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = startRatio - startRatio * t / duration;\n          if (ratio < 0) {\n            ratio = 0;\n          }\n          this$1$1.flip.progress = ratio;\n          if (ratio > 0) {\n            return animate();\n          } else {\n            this$1$1.firstPage = this$1$1.currentPage;\n            this$1$1.secondPage = this$1$1.currentPage + 1;\n            if (this$1$1.displayedPages === 1 && this$1$1.flip.direction !== this$1$1.forwardDirection) {\n              this$1$1.flip.direction = null;\n            } else {\n              this$1$1.onImageLoad(1, function () {\n                return this$1$1.flip.direction = null;\n              });\n            }\n            return this$1$1.flip.auto = false;\n          }\n        });\n      };\n      return animate();\n    },\n    onImageLoad: function(trigger, cb) {\n      this.nImageLoad = 0;\n      this.nImageLoadTrigger = trigger;\n      return this.imageLoadCallback = cb;\n    },\n    didLoadImage: function(ev) {\n      if (this.imageWidth === null) {\n        this.imageWidth = (ev.target || ev.path[0]).naturalWidth;\n        this.imageHeight = (ev.target || ev.path[0]).naturalHeight;\n        this.preloadImages();\n      }\n      if (!this.imageLoadCallback) {\n        return;\n      }\n      if (++this.nImageLoad >= this.nImageLoadTrigger) {\n        this.imageLoadCallback();\n        return this.imageLoadCallback = null;\n      }\n    },\n    zoomIn: function(zoomAt) {\n      if ( zoomAt === void 0 ) zoomAt = null;\n\n      if (!this.canZoomIn) {\n        return;\n      }\n      this.zoomIndex += 1;\n      return this.zoomTo(this.zooms_[this.zoomIndex], zoomAt);\n    },\n    zoomOut: function(zoomAt) {\n      if ( zoomAt === void 0 ) zoomAt = null;\n\n      if (!this.canZoomOut) {\n        return;\n      }\n      this.zoomIndex -= 1;\n      return this.zoomTo(this.zooms_[this.zoomIndex], zoomAt);\n    },\n    zoomTo: function(zoom, zoomAt) {\n      var this$1$1 = this;\n      if ( zoomAt === void 0 ) zoomAt = null;\n\n      var animate, containerFixedX, containerFixedY, end, endX, endY, fixedX, fixedY, rect, start, startX, startY, t0, viewport;\n      viewport = this.$refs.viewport;\n      if (zoomAt) {\n        rect = viewport.getBoundingClientRect();\n        fixedX = zoomAt.pageX - rect.left;\n        fixedY = zoomAt.pageY - rect.top;\n      } else {\n        fixedX = viewport.clientWidth / 2;\n        fixedY = viewport.clientHeight / 2;\n      }\n      start = this.zoom;\n      end = zoom;\n      startX = viewport.scrollLeft;\n      startY = viewport.scrollTop;\n      containerFixedX = fixedX + startX;\n      containerFixedY = fixedY + startY;\n      endX = containerFixedX / start * end - fixedX;\n      endY = containerFixedY / start * end - fixedY;\n      t0 = Date.now();\n      this.zooming = true;\n      this.$emit('zoom-start', zoom);\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = t / this$1$1.zoomDuration;\n          if (ratio > 1 || this$1$1.IE) {\n            ratio = 1;\n          }\n          ratio = easeInOut(ratio);\n          this$1$1.zoom = start + (end - start) * ratio;\n          this$1$1.scrollLeft = startX + (endX - startX) * ratio;\n          this$1$1.scrollTop = startY + (endY - startY) * ratio;\n          if (t < this$1$1.zoomDuration) {\n            return animate();\n          } else {\n            this$1$1.$emit('zoom-end', zoom);\n            this$1$1.zooming = false;\n            this$1$1.zoom = zoom;\n            this$1$1.scrollLeft = endX;\n            return this$1$1.scrollTop = endY;\n          }\n        });\n      };\n      animate();\n      if (end > 1) {\n        return this.preloadImages(true);\n      }\n    },\n    zoomAt: function(zoomAt) {\n      this.zoomIndex = (this.zoomIndex + 1) % this.zooms_.length;\n      return this.zoomTo(this.zooms_[this.zoomIndex], zoomAt);\n    },\n    swipeStart: function(touch) {\n      this.touchStartX = touch.pageX;\n      this.touchStartY = touch.pageY;\n      this.maxMove = 0;\n      if (this.zoom <= 1) {\n        if (this.dragToFlip) {\n          return this.activeCursor = 'grab';\n        }\n      } else {\n        this.startScrollLeft = this.$refs.viewport.scrollLeft;\n        this.startScrollTop = this.$refs.viewport.scrollTop;\n        return this.activeCursor = 'all-scroll';\n      }\n    },\n    swipeMove: function(touch) {\n      var x, y;\n      if (this.touchStartX == null) {\n        return;\n      }\n      x = touch.pageX - this.touchStartX;\n      y = touch.pageY - this.touchStartY;\n      this.maxMove = Math.max(this.maxMove, Math.abs(x));\n      this.maxMove = Math.max(this.maxMove, Math.abs(y));\n      if (this.zoom > 1) {\n        if (this.dragToScroll) {\n          this.dragScroll(x, y);\n        }\n        return;\n      }\n      if (!this.dragToFlip) {\n        return;\n      }\n      if (Math.abs(y) > Math.abs(x)) {\n        return;\n      }\n      this.activeCursor = 'grabbing';\n      if (x > 0) {\n        if (this.flip.direction === null && this.canFlipLeft && x >= this.swipeMin) {\n          this.flipStart('left', false);\n        }\n        if (this.flip.direction === 'left') {\n          this.flip.progress = x / this.pageWidth;\n          if (this.flip.progress > 1) {\n            this.flip.progress = 1;\n          }\n        }\n      } else {\n        if (this.flip.direction === null && this.canFlipRight && x <= -this.swipeMin) {\n          this.flipStart('right', false);\n        }\n        if (this.flip.direction === 'right') {\n          this.flip.progress = -x / this.pageWidth;\n          if (this.flip.progress > 1) {\n            this.flip.progress = 1;\n          }\n        }\n      }\n      return true;\n    },\n    swipeEnd: function(touch) {\n      if (this.touchStartX == null) {\n        return;\n      }\n      if (this.clickToZoom && this.maxMove < this.swipeMin) {\n        this.zoomAt(touch);\n      }\n      if (this.flip.direction !== null && !this.flip.auto) {\n        if (this.flip.progress > 1 / 4) {\n          this.flipAuto(false);\n        } else {\n          this.flipRevert();\n        }\n      }\n      this.touchStartX = null;\n      return this.activeCursor = null;\n    },\n    onTouchStart: function(ev) {\n      this.hasTouchEvents = true;\n      return this.swipeStart(ev.changedTouches[0]);\n    },\n    onTouchMove: function(ev) {\n      if (this.swipeMove(ev.changedTouches[0])) {\n        if (ev.cancelable) {\n          return ev.preventDefault();\n        }\n      }\n    },\n    onTouchEnd: function(ev) {\n      return this.swipeEnd(ev.changedTouches[0]);\n    },\n    onPointerDown: function(ev) {\n      this.hasPointerEvents = true;\n      if (this.hasTouchEvents) {\n        return;\n      }\n      if (ev.which && ev.which !== 1) { // Ignore right-click\n        return;\n      }\n      this.swipeStart(ev);\n      try {\n        return ev.target.setPointerCapture(ev.pointerId);\n      } catch (error) {\n\n      }\n    },\n    onPointerMove: function(ev) {\n      if (!this.hasTouchEvents) {\n        return this.swipeMove(ev);\n      }\n    },\n    onPointerUp: function(ev) {\n      if (this.hasTouchEvents) {\n        return;\n      }\n      this.swipeEnd(ev);\n      try {\n        return ev.target.releasePointerCapture(ev.pointerId);\n      } catch (error) {\n\n      }\n    },\n    onMouseDown: function(ev) {\n      if (this.hasTouchEvents || this.hasPointerEvents) {\n        return;\n      }\n      if (ev.which && ev.which !== 1) { // Ignore right-click\n        return;\n      }\n      return this.swipeStart(ev);\n    },\n    onMouseMove: function(ev) {\n      if (!(this.hasTouchEvents || this.hasPointerEvents)) {\n        return this.swipeMove(ev);\n      }\n    },\n    onMouseUp: function(ev) {\n      if (!(this.hasTouchEvents || this.hasPointerEvents)) {\n        return this.swipeEnd(ev);\n      }\n    },\n    dragScroll: function(x, y) {\n      this.scrollLeft = this.startScrollLeft - x;\n      return this.scrollTop = this.startScrollTop - y;\n    },\n    onWheel: function(ev) {\n      if (this.wheel === 'scroll' && this.zoom > 1 && this.dragToScroll) {\n        this.scrollLeft = this.$refs.viewport.scrollLeft + ev.deltaX;\n        this.scrollTop = this.$refs.viewport.scrollTop + ev.deltaY;\n        if (ev.cancelable) {\n          ev.preventDefault();\n        }\n      }\n      if (this.wheel === 'zoom') {\n        if (ev.deltaY >= 100) {\n          this.zoomOut(ev);\n          return ev.preventDefault();\n        } else if (ev.deltaY <= -100) {\n          this.zoomIn(ev);\n          return ev.preventDefault();\n        }\n      }\n    },\n    preloadImages: function(hiRes) {\n      if ( hiRes === void 0 ) hiRes = false;\n\n      var i, j, k, ref, ref1, ref2, ref3, src;\n      for (i = j = ref = this.currentPage - 3, ref1 = this.currentPage + 3; (ref <= ref1 ? j <= ref1 : j >= ref1); i = ref <= ref1 ? ++j : --j) {\n        this.pageUrlLoading(i); // this preloads image\n      }\n      if (hiRes) {\n        for (i = k = ref2 = this.currentPage, ref3 = this.currentPage + this.displayedPages; (ref2 <= ref3 ? k < ref3 : k > ref3); i = ref2 <= ref3 ? ++k : --k) {\n          src = this.pagesHiRes[i];\n          if (src) {\n            (new Image()).src = src;\n          }\n        }\n      }\n    },\n    goToPage: function(p) {\n      if (p === null || p === this.page) {\n        return;\n      }\n      if (this.pages[0] === null) {\n        if (this.displayedPages === 2 && p === 1) {\n          this.currentPage = 0;\n        } else {\n          this.currentPage = p;\n        }\n      } else {\n        this.currentPage = p - 1;\n      }\n      this.minX = 2e308;\n      this.maxX = -2e308;\n      return this.currentCenterOffset = this.centerOffset;\n    },\n    loadImage: function(url) {\n      var this$1$1 = this;\n\n      var img;\n      if (this.imageWidth === null) {\n        // First loaded image defines the image width and height.\n        // So it must be true image, not 'loading' image.\n        return url;\n      } else {\n        if (this.loadedImages[url]) {\n          return url;\n        } else {\n          img = new Image();\n          img.onload = function () {\n            if (this$1$1.$set) {\n              return this$1$1.$set(this$1$1.loadedImages, url, true);\n            } else {\n              return this$1$1.loadedImages[url] = true;\n            }\n          };\n          img.src = url;\n          return this.loadingImage;\n        }\n      }\n    }\n  },\n  watch: {\n    currentPage: function() {\n      this.firstPage = this.currentPage;\n      this.secondPage = this.currentPage + 1;\n      return this.preloadImages();\n    },\n    centerOffset: function() {\n      var this$1$1 = this;\n\n      var animate;\n      if (this.animatingCenter) {\n        return;\n      }\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var diff, rate;\n          rate = 0.1;\n          diff = this$1$1.centerOffset - this$1$1.currentCenterOffset;\n          if (Math.abs(diff) < 0.5) {\n            this$1$1.currentCenterOffset = this$1$1.centerOffset;\n            return this$1$1.animatingCenter = false;\n          } else {\n            this$1$1.currentCenterOffset += diff * rate;\n            return animate();\n          }\n        });\n      };\n      this.animatingCenter = true;\n      return animate();\n    },\n    scrollLeftLimited: function(val) {\n      var this$1$1 = this;\n\n      if (this.IE) {\n        return requestAnimationFrame(function () {\n          return this$1$1.$refs.viewport.scrollLeft = val;\n        });\n      } else {\n        return this.$refs.viewport.scrollLeft = val;\n      }\n    },\n    scrollTopLimited: function(val) {\n      var this$1$1 = this;\n\n      if (this.IE) {\n        return requestAnimationFrame(function () {\n          return this$1$1.$refs.viewport.scrollTop = val;\n        });\n      } else {\n        return this.$refs.viewport.scrollTop = val;\n      }\n    },\n    pages: function(after, before) {\n      this.fixFirstPage();\n      if (!(before != null ? before.length : void 0) && (after != null ? after.length : void 0)) {\n        if (this.startPage > 1 && after[0] === null) {\n          return this.currentPage++;\n        }\n      }\n    },\n    startPage: function(p) {\n      return this.goToPage(p);\n    }\n  }\n};\n\nvar _hoisted_1 = [\"src\"];\nvar _hoisted_2 = [\"src\"];\n\nfunction render(_ctx, _cache) {\n  return (openBlock(), createElementBlock(\"div\", null, [\n    renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps({\n        canFlipLeft: _ctx.canFlipLeft,\n        canFlipRight: _ctx.canFlipRight,\n        canZoomIn: _ctx.canZoomIn,\n        canZoomOut: _ctx.canZoomOut,\n        page: _ctx.page,\n        numPages: _ctx.numPages,\n        flipLeft: _ctx.flipLeft,\n        flipRight: _ctx.flipRight,\n        zoomIn: _ctx.zoomIn,\n        zoomOut: _ctx.zoomOut,\n      }))),\n    createElementVNode(\"div\", {\n      class: normalizeClass([\"viewport\", {\n        zoom: _ctx.zooming || _ctx.zoom > 1,\n        'drag-to-scroll': _ctx.dragToScroll,\n      }]),\n      ref: \"viewport\",\n      style: normalizeStyle({ cursor: _ctx.cursor == 'grabbing' ? 'grabbing' : 'auto' }),\n      onTouchmove: _cache[7] || (_cache[7] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onTouchMove && _ctx.onTouchMove.apply(_ctx, args));\n  }),\n      onPointermove: _cache[8] || (_cache[8] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onPointerMove && _ctx.onPointerMove.apply(_ctx, args));\n  }),\n      onMousemove: _cache[9] || (_cache[9] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onMouseMove && _ctx.onMouseMove.apply(_ctx, args));\n  }),\n      onTouchend: _cache[10] || (_cache[10] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onTouchEnd && _ctx.onTouchEnd.apply(_ctx, args));\n  }),\n      onTouchcancel: _cache[11] || (_cache[11] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onTouchEnd && _ctx.onTouchEnd.apply(_ctx, args));\n  }),\n      onPointerup: _cache[12] || (_cache[12] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onPointerUp && _ctx.onPointerUp.apply(_ctx, args));\n  }),\n      onPointercancel: _cache[13] || (_cache[13] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onPointerUp && _ctx.onPointerUp.apply(_ctx, args));\n  }),\n      onMouseup: _cache[14] || (_cache[14] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onMouseUp && _ctx.onMouseUp.apply(_ctx, args));\n  }),\n      onWheel: _cache[15] || (_cache[15] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return (_ctx.onWheel && _ctx.onWheel.apply(_ctx, args));\n  })\n    }, [\n      createElementVNode(\"div\", {\n        class: \"flipbook-container\",\n        style: normalizeStyle({ transform: (\"scale(\" + (_ctx.zoom) + \")\") })\n      }, [\n        createElementVNode(\"div\", {\n          class: \"click-to-flip left\",\n          style: normalizeStyle({ cursor: _ctx.canFlipLeft ? 'pointer' : 'auto' }),\n          onClick: _cache[0] || (_cache[0] = function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            return (_ctx.flipLeft && _ctx.flipLeft.apply(_ctx, args));\n  })\n        }, null, 4 /* STYLE */),\n        createElementVNode(\"div\", {\n          class: \"click-to-flip right\",\n          style: normalizeStyle({ cursor: _ctx.canFlipRight ? 'pointer' : 'auto' }),\n          onClick: _cache[1] || (_cache[1] = function () {\n            var args = [], len = arguments.length;\n            while ( len-- ) args[ len ] = arguments[ len ];\n\n            return (_ctx.flipRight && _ctx.flipRight.apply(_ctx, args));\n  })\n        }, null, 4 /* STYLE */),\n        createElementVNode(\"div\", {\n          style: normalizeStyle({ transform: (\"translateX(\" + (_ctx.centerOffsetSmoothed) + \"px)\") })\n        }, [\n          (_ctx.showLeftPage)\n            ? (openBlock(), createElementBlock(\"img\", {\n                key: 0,\n                class: \"page fixed\",\n                style: normalizeStyle({\n              width: _ctx.pageWidth + 'px',\n              height: _ctx.pageHeight + 'px',\n              left: _ctx.xMargin + 'px',\n              top: _ctx.yMargin + 'px',\n            }),\n                src: _ctx.pageUrlLoading(_ctx.leftPage, true),\n                onLoad: _cache[2] || (_cache[2] = function ($event) { return (_ctx.didLoadImage($event)); })\n              }, null, 44 /* STYLE, PROPS, HYDRATE_EVENTS */, _hoisted_1))\n            : createCommentVNode(\"v-if\", true),\n          (_ctx.showRightPage)\n            ? (openBlock(), createElementBlock(\"img\", {\n                key: 1,\n                class: \"page fixed\",\n                style: normalizeStyle({\n              width: _ctx.pageWidth + 'px',\n              height: _ctx.pageHeight + 'px',\n              left: _ctx.viewWidth / 2 + 'px',\n              top: _ctx.yMargin + 'px',\n            }),\n                src: _ctx.pageUrlLoading(_ctx.rightPage, true),\n                onLoad: _cache[3] || (_cache[3] = function ($event) { return (_ctx.didLoadImage($event)); })\n              }, null, 44 /* STYLE, PROPS, HYDRATE_EVENTS */, _hoisted_2))\n            : createCommentVNode(\"v-if\", true),\n          createElementVNode(\"div\", {\n            style: normalizeStyle({ opacity: _ctx.flip.opacity })\n          }, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.polygonArray, function (ref) {\n              var key = ref[0];\n              var bgImage = ref[1];\n              var lighting = ref[2];\n              var bgPos = ref[3];\n              var transform = ref[4];\n              var z = ref[5];\n\n              return (openBlock(), createElementBlock(\"div\", {\n                class: normalizeClass([\"polygon\", { blank: !bgImage }]),\n                key: key,\n                style: normalizeStyle({\n                backgroundImage: bgImage && (\"url(\" + (_ctx.loadImage(bgImage)) + \")\"),\n                backgroundSize: _ctx.polygonBgSize,\n                backgroundPosition: bgPos,\n                width: _ctx.polygonWidth,\n                height: _ctx.polygonHeight,\n                transform: transform,\n                zIndex: z,\n              })\n              }, [\n                withDirectives(createElementVNode(\"div\", {\n                  class: \"lighting\",\n                  style: normalizeStyle({ backgroundImage: lighting })\n                }, null, 4 /* STYLE */), [\n                  [vShow, lighting.length]\n                ])\n              ], 6 /* CLASS, STYLE */))\n            }), 128 /* KEYED_FRAGMENT */))\n          ], 4 /* STYLE */),\n          createElementVNode(\"div\", {\n            class: \"bounding-box\",\n            style: normalizeStyle({\n              left: _ctx.boundingLeft + 'px',\n              top: _ctx.yMargin + 'px',\n              width: _ctx.boundingRight - _ctx.boundingLeft + 'px',\n              height: _ctx.pageHeight + 'px',\n              cursor: _ctx.cursor,\n            }),\n            onTouchstart: _cache[4] || (_cache[4] = function () {\n              var args = [], len = arguments.length;\n              while ( len-- ) args[ len ] = arguments[ len ];\n\n              return (_ctx.onTouchStart && _ctx.onTouchStart.apply(_ctx, args));\n  }),\n            onPointerdown: _cache[5] || (_cache[5] = function () {\n              var args = [], len = arguments.length;\n              while ( len-- ) args[ len ] = arguments[ len ];\n\n              return (_ctx.onPointerDown && _ctx.onPointerDown.apply(_ctx, args));\n  }),\n            onMousedown: _cache[6] || (_cache[6] = function () {\n              var args = [], len = arguments.length;\n              while ( len-- ) args[ len ] = arguments[ len ];\n\n              return (_ctx.onMouseDown && _ctx.onMouseDown.apply(_ctx, args));\n  })\n          }, null, 36 /* STYLE, HYDRATE_EVENTS */)\n        ], 4 /* STYLE */)\n      ], 4 /* STYLE */)\n    ], 38 /* CLASS, STYLE, HYDRATE_EVENTS */)\n  ]))\n}\n\nvar e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c();}else { a=c(); }65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n));}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes){ for(var t=Object.keys(r.attributes),n=0;n<t.length;n++){ e.setAttribute(t[n],r.attributes[t[n]]); } }var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}\n\nvar css = \".viewport[data-v-5c04eecf]{-webkit-overflow-scrolling:touch;height:100%;width:100%}.viewport.zoom[data-v-5c04eecf]{overflow:scroll}.viewport.zoom.drag-to-scroll[data-v-5c04eecf]{overflow:hidden}.flipbook-container[data-v-5c04eecf]{height:100%;position:relative;-webkit-transform-origin:top left;transform-origin:top left;-webkit-user-select:none;user-select:none;width:100%}.click-to-flip[data-v-5c04eecf]{height:100%;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:50%}.click-to-flip.left[data-v-5c04eecf]{left:0}.click-to-flip.right[data-v-5c04eecf]{right:0}.bounding-box[data-v-5c04eecf]{position:absolute;-webkit-user-select:none;user-select:none}.page[data-v-5c04eecf],.polygon[data-v-5c04eecf]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute}.polygon[data-v-5c04eecf]{background-repeat:no-repeat;left:0;top:0;-webkit-transform-origin:center left;transform-origin:center left}.polygon.blank[data-v-5c04eecf]{background-color:#ddd}.polygon .lighting[data-v-5c04eecf]{height:100%;width:100%}\";\nn(css,{});\n\nscript.render = render;\nscript.__scopeId = \"data-v-5c04eecf\";\nscript.__file = \"src/Flipbook.vue\";\n\nexport { script as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}